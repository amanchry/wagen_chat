<VirtualHost *:80>
    ServerName wagen.waterinag.org
    Redirect permanent / https://wagen.waterinag.org/
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin admin@wagen.waterinag.org
    ServerName wagen.waterinag.org



    ProxyPreserveHost On
    # Proxy API calls to Django running on port 8006
    ProxyPass /wagenApi http://127.0.0.1:8005/wagenApi
    ProxyPassReverse /wagenApi http://127.0.0.1:8005/wagenApi

    # (Optional) If you want /media and /static from Django handled by backend
    ProxyPass /media http://127.0.0.1:8005/media
    ProxyPassReverse /media http://127.0.0.1:8005/media

    ProxyPass /django_static http://127.0.0.1:8005/django_static
    ProxyPassReverse /django_static http://127.0.0.1:8005/django_static


    ProxyPass / http://127.0.0.1:3007/
    ProxyPassReverse / http://127.0.0.1:3007/



    

    ErrorLog ${APACHE_LOG_DIR}/wagen_error.log
    CustomLog ${APACHE_LOG_DIR}/wagen_access.log combined
</VirtualHost>
